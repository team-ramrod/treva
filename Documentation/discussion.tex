\section{Discussion}
%TODO: everything
In its current state the designed SIMD processor has several drawbacks that mean
it does not perform at the level that was strived for. The limit of 32 ALU's
imposed by memory issues and the additional memory operations required due to
the ALU's not sharing memory has caused these serious performance constraints.
While the SIMD processor would still easily out perform a SISD implementation
based on the same design it did not achieve the high levels of throughput that
would justify the use of the FPGA implementation of the processor for use in
image processing and potentially FFT applications.  

The source of many of the issues that were encountered steamed from the original
Leros architecture that the processor was designed on. While when the processor
was first chosen it appeared to have a solid implementation the more the
architecture was examined the more questionable design decisions were
encountered. The reason for these problems has most likely stemmed from the
large push on the CPU to minimise its size at all costs. This coupled with the
design and all the code being written by a single person meant issues were
encountered when an attempt to understand and modify it was made. The two
largest issues encounter were that the UART code that came with the CPU was not
already implemented in the CPU and when added in did not appear to function
correctly. The second issue was that while the bock diagram of the system showed
a large number of small components each linked to the others in a logical
arrangement large amounts of the of the units are implemented inside single
processes in the code. An example of this is in the code the ALU, input
multiplexer, memory and accumulator are all defined at once in the same process
with a large amount of coupling through shared signals.  

\subsection{Effects of Single-Cycle Instructions}
The Leros code base was designed for single clock cycle instructions. Such a
restriction poses few problems for addition and subtraction instructions, but
there was the possibility that any further added operations may not be able to be
completed in a single cycle. This presents a problem because Leros' pipelined
design relies on these single cycle instructions.

It was originally thought that the goals of the project would benefit from
multiply and divide instructions. There was no way to control whether these
would be implemented as single-cycle, as this would be decided during the
synthesis stage by the Xilinx compiler. Fortunately, after implementation of the
multiplication operation, inspection of the RTL schematic showed that this
instruction had indeed been implemented single-cycle.

Division was not expected to be implemented as a single-cycle instruction by
Xilinx, and this suspicion was confirmed on inspection of the RTL schematic
after a division instruction was added. For this reason, no division instruction
was included in the final design, in order to ensure that the pipeline
architecture was not compromised. The lack of a division instruction did not
hinder the project, however it is worth noting this deficiency.

\subsection{IO Issues}
A hitherto unresolved issue lies with the input to the CPU. When using real input,
it was never able to enter the ALU, it was traced through to this point but
could not be fixed. It is assumed there is perhaps an erroneous flag that is causing
this issue and highlights the difficulties with working with a code base that is 
unfamiliar when time constraints exist. It is assumed that given more time, this 
issue would be resolved. It is worth noting the frustration caused by this small
issue, as it stopped any real results from being obtained. Test programs using input
from memory however, were unaffected and executed as expected. This success is the 
reason for the confidence that it is only a small issue.
